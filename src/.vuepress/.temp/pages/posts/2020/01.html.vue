<template><div><h1 id="小程序从0到1-豆瓣接口替代网址可以在线访问了" tabindex="-1"><a class="header-anchor" href="#小程序从0到1-豆瓣接口替代网址可以在线访问了"><span>小程序从0到1：豆瓣接口替代网址可以在线访问了</span></a></h1>
<p>《小程序从0到1》这本书即将再版印刷了，趁此机会，作者必将豆瓣服务器地址从示例中拿去，原因大家都清楚。前几日，为了方便读者朋友在本地学习与测试，作者用 Go 语言写了一个替代小工具，如下文章所述：</p>
<p><a href="http://mp.weixin.qq.com/s/-6UYVXvTwxlz5poybBFHUg" target="_blank" rel="noopener noreferrer">还一个技术债：豆瓣接口代替小工具</a></p>
<p>现在，这个小工具也不需要了。为了进一步方便读者，作者已经将该程序部署在了作者的服务器上。购买服务器可是花了不少银子。</p>
<p>使用方法：</p>
<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">将小程序源码中的</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.douban.com/v2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> 替换为</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.rixingyike.com/doubanapiv2</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>具体的新旧接口对应关系为：</p>
<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.douban.com/v2/movie/coming_soon?start=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">3</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.rixingyike.com/doubanapiv2/movie/coming_soon?start=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.douban.com/v2/movie/search?q=</span><span style="--shiki-light:#999999;--shiki-dark:#666666">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">this</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">searchWords</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">start</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">start</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">this</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">size</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.rixingyike.com/doubanapiv2/movie/search?q=和平</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">start</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.douban.com/v2/movie/</span><span style="--shiki-light:#999999;--shiki-dark:#666666">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">this</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">type</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">?start=</span><span style="--shiki-light:#999999;--shiki-dark:#666666">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">start</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> ${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">this</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">data</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">size</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.rixingyike.com/doubanapiv2/movie/in_theaters?start=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.douban.com/v2/movie/subject/</span><span style="--shiki-light:#999999;--shiki-dark:#666666">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">options</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.rixingyike.com/doubanapiv2/movie/subject/3267549</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.douban.com/v2/movie/bang/</span><span style="--shiki-light:#999999;--shiki-dark:#666666">${</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">board</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">key</span><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">?start=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">10</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">//</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> https://api.rixingyike.com/doubanapiv2/movie/top250?start=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">10</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2020年1月1日</p>
</div></template>


